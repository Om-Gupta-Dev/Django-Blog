{% extends "Blog/base.html" %}

{% block title %} Blog..{% endblock %}

{% block body %}
    <h1> Blog Project </h1><hr>
    <div class="container-fluid row">
        <div class="container-fluid col-md-7">
            {% if tag %}
                <h2>Posts Related to "{{tag.name}}"</h2>
            {% endif %}
            {% for post in posts %}
                <div class="container-fluid ml-3">
                    <a href="{{post.get_absolute_url}}"> <h1> {{post.title}} </h1> </a>
                    <p class="font-italic text-success"> Published on {{post.publish}} by {{post.author|title}} </p>
                    <p class="text-danger font-weight-bold">Tags : 
                        {% for tag in post.tags.all %}
                        <a class="btn btn-warning rounded mr-2 font-weight-bold" href="{% url 'post_list_by_tag_name' tag.slug %}"> {{tag}} </a>
                        {% endfor %}
                    </p>
                    <p> {{ post.body|truncatewords:50}} </p>
                </div>
            {% endfor %}
        </div>
        <div class="container-fluid col-md-5">
            {% for post in posts %}
                <div class="container-fluid ml-3">
                    <a href="#"> <h1> {{post.title}} </h1> </a>
                    <p class="font-italic text-success"> Published on {{post.publish}} by {{post.author|title}} </p>
                    <p> {{ post.body|truncatewords:50}} </p>
                </div>
            {% endfor %}
            
            {% include "Blog/paginator.html" with page=posts %}
        </div>
    </div>
    
{% endblock body %}